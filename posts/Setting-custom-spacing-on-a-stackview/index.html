<!DOCTYPE html><html lang="en"><head><title>Setting custom spacing on a UIStackView | Andrew Marmion</title><meta name="twitter:title" content="Setting custom spacing on a UIStackView | Andrew Marmion"/><meta name="og:title" content="Setting custom spacing on a UIStackView | Andrew Marmion"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/><link rel="stylesheet" href="/styles.css"/><link rel="shortcut icon" type="image/png" href="/Images/favicon.png"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Andrew Marmion</a><p class="description">Coding carefully, deliberately, and with humility.</p><nav><ul><li><a href="/About">About</a></li><li><a class="selected" href="/posts">Posts</a></li></ul></nav></div></header><div class="wrapper"><article><div><div class="title">Setting custom spacing on a UIStackView</div><ul class="tag-list"><li><a class="tag variant-0" href="/tags/article">Article</a></li><li><a class="tag variant-6" href="/tags/uikit">UIKit</a></li><li><a class="tag variant-6" href="/tags/uistackview">UIStackView</a></li></ul><p class="published">Published on 27 November 2020</p></div><div class="content"><p>So I was reading <a href="https://twitter.com/daveverwer">Dave Verwer</a>'s latest issue of <a href="https://iosdevweekly.com/issues/484#1CUQjJ3">iOS Dev Weekly</a> where I came across this mindblowing tip on setting custom spacing in a <code>UIStackView</code>. The tip comes from <a href="https://twitter.com/sarunw">Sarun Wongpatcharapakorn</a>, who does a fantastic write up of it on his <a href="https://sarunw.com/posts/custom-uistackview-spacing/">blog</a> .</p><p>The basic usage is as follows:</p><pre><code><span class="keyword">let</span> vStackView = <span class="type">UIStackView</span>()
vStackView.<span class="property">axis</span> = .<span class="dotAccess">vertical</span>

vStackView.<span class="call">addArrangedSubview</span>(movieLabel)
vStackView.<span class="call">addArrangedSubview</span>(quoteLabel)
vStackView.<span class="call">setCustomSpacing</span>(<span class="number">10</span>, after: quoteLabel)
vStackView.<span class="call">addArrangedSubview</span>(authorLabel)
</code></pre><br /><p>This will set a custom spacing on the <code>UIStackView</code> but only after the <code>quoteLabel</code>.</p><p>It is worthwhile noting that there are some caveats that you should be aware of.</p><ul><li>The <code>.setCustomSpacing(:after:)</code> has to come after the added view.</li><li>Issues can arise with your layout if you hide or remove views from your stackview. Sarun goes into detail anout them in his <a href=" https://sarunw.com/posts/custom-uistackview-spacing/">post</a>.</li></ul><br /><p>Regardless this is fantastic. Apparently it has been around since iOS 11!!!! I wish I had known about this sooner, though a lot of the apps I work on have been supporting iOS 10+ so it wouldn't have mattered too much.</p><p>In a current hobby project I have nested <code>UIStackView</code>'s and I wonderd if I could achieve the same affect using <code>UIStackView(arrangedSubviews:)</code> initialiser. And would you know it, it works!</p><p>So the above code could be replaced with the following.</p><pre><code><span class="keyword">let</span> vStackView = <span class="type">UIStackView</span>(arrangedSubviews: movieLabel, quoteLabel, authorLabel)
vStackView.<span class="property">axis</span> = .<span class="dotAccess">vertical</span>

vStackView.<span class="call">setCustomSpacing</span>(<span class="number">10</span>, after: quoteLabel)
</code></pre><br /><p>So regardless of your preference for constructing your stackviews, using <code>UIStackView(arrangedSubviews:)</code> or <code>.addArrangedSubview()</code> you can have your custom spacing!</p><p>Thanks to Sarun who wrote about this, and to Dave for featuring it in his newsletter.</p></div></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>Copyright Â© Andrew Marmion 2021</p><div><a href="https://twitter.com/IamThatAndrew" class="fa fa-twitter"></a><a href="https://github.com/andrewmarmion" class="fa fa-github"></a><a href="https://linkedin.com/in/andrewmarmion" class="fa fa-linkedin"></a><a href="https://stackoverflow.com/users/5508175/andrew?tab=profile" class="fa fa-stack-overflow"></a><a href="https://youtube.com/c/andrewmarmion" class="fa fa-youtube"></a></div></footer></body></html>